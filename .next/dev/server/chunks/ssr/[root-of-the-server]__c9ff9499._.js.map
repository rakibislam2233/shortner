{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Rakib/Learning/shortner-new/app/components/Table.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/Table.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/Table.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4R,GACzT,0DACA","ignoreList":[0]}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Rakib/Learning/shortner-new/app/components/Table.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/Table.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/Table.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwQ,GACrS,sCACA","ignoreList":[0]}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Rakib/Learning/shortner-new/app/components/Header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/Header.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/Header.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA","ignoreList":[0]}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Rakib/Learning/shortner-new/app/components/Header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/Header.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/Header.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyQ,GACtS,uCACA","ignoreList":[0]}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///C:/Rakib/Learning/shortner-new/app/page.tsx"],"sourcesContent":["import fs from \"fs/promises\";\r\nimport path from \"path\";\r\nimport Table from \"./components/Table\";\r\nimport Header from \"./components/Header\";\r\nimport { cookies } from \"next/headers\";\r\nimport { redirect } from \"next/navigation\";\r\n\r\n/**\r\n * The root page loads the existing links from the JSON file on the\r\n * server and passes them to a client component to render. This page\r\n * itself is a server component, which makes it easy to read files\r\n * synchronously at request time.\r\n */\r\nexport default async function HomePage() {\r\n  // Read the username from cookies. If no cookie is present, redirect\r\n  // to the login page. We only perform this check on the server to\r\n  // prevent rendering any of the authenticated UI for anonymous users.\r\n  const cookieStore = cookies();\r\n  const username = (await cookies()).get('username')?.value;\r\n  if (!username) {\r\n    redirect(\"/login\");\r\n  }\r\n\r\n  const filePath = path.join(process.cwd(), \"data\", \"links.json\");\r\n  let linksData: Record<string, any> = {};\r\n  try {\r\n    const json = await fs.readFile(filePath, \"utf8\");\r\n    linksData = JSON.parse(json);\r\n  } catch {\r\n    linksData = {};\r\n  }\r\n\r\n  // Determine if the data is in flat or nested format. If flat,\r\n  // convert all entries into an array. If nested, pick the user\r\n  // namespace. Note: Object.values returns an array of values for\r\n  // easier iteration.\r\n  const hasFlatEntries = Object.values(linksData).some(\r\n    (v: any) => v && typeof v === \"object\" && \"id\" in v\r\n  );\r\n  let initialLinks: any[] = [];\r\n  if (hasFlatEntries) {\r\n    initialLinks = Object.values(linksData);\r\n  } else {\r\n    const userEntries = linksData[username] ?? {};\r\n    initialLinks = Object.values(userEntries);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header initialUsername={username} />\r\n      <Table initialLinks={initialLinks} />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AAQe,eAAe;IAC5B,oEAAoE;IACpE,iEAAiE;IACjE,qEAAqE;IACrE,MAAM,cAAc,IAAA,0IAAO;IAC3B,MAAM,WAAW,CAAC,MAAM,IAAA,0IAAO,GAAE,EAAE,GAAG,CAAC,aAAa;IACpD,IAAI,CAAC,UAAU;QACb,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;IAClD,IAAI,YAAiC,CAAC;IACtC,IAAI;QACF,MAAM,OAAO,MAAM,gIAAE,CAAC,QAAQ,CAAC,UAAU;QACzC,YAAY,KAAK,KAAK,CAAC;IACzB,EAAE,OAAM;QACN,YAAY,CAAC;IACf;IAEA,8DAA8D;IAC9D,8DAA8D;IAC9D,gEAAgE;IAChE,oBAAoB;IACpB,MAAM,iBAAiB,OAAO,MAAM,CAAC,WAAW,IAAI,CAClD,CAAC,IAAW,KAAK,OAAO,MAAM,YAAY,QAAQ;IAEpD,IAAI,eAAsB,EAAE;IAC5B,IAAI,gBAAgB;QAClB,eAAe,OAAO,MAAM,CAAC;IAC/B,OAAO;QACL,MAAM,cAAc,SAAS,CAAC,SAAS,IAAI,CAAC;QAC5C,eAAe,OAAO,MAAM,CAAC;IAC/B;IAEA,qBACE;;0BACE,8OAAC,uIAAM;gBAAC,iBAAiB;;;;;;0BACzB,8OAAC,sIAAK;gBAAC,cAAc;;;;;;;;AAG3B"}}]
}