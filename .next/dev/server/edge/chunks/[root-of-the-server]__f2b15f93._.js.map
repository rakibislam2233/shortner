{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["// Fixed: Security headers middleware\nimport { NextRequest, NextResponse } from 'next/server';\n\nexport function middleware(request: NextRequest) {\n  // Clone the response to modify headers\n  const response = NextResponse.next();\n\n  // Strict Transport Security\n  response.headers.set(\n    'Strict-Transport-Security',\n    'max-age=63072000; includeSubDomains; preload'\n  );\n\n  // X-Frame Options\n  response.headers.set('X-Frame-Options', 'DENY');\n\n  // X-Content-Type Options\n  response.headers.set('X-Content-Type-Options', 'nosniff');\n\n  // Referrer Policy\n  response.headers.set('Referrer-Policy', 'strict-origin-when-cross-origin');\n\n  // Content Security Policy\n  response.headers.set(\n    'Content-Security-Policy',\n    [\n      \"default-src 'self'\",\n      \"script-src 'self' 'unsafe-inline'\",\n      \"style-src 'self' 'unsafe-inline'\",\n      \"img-src 'self' blob: data:\",\n      \"font-src 'self'\",\n      \"connect-src 'self'\",\n      \"frame-ancestors 'none'\",\n      \"upgrade-insecure-requests\"\n    ].join('; ')\n  );\n\n  // Permissions Policy\n  response.headers.set(\n    'Permissions-Policy',\n    [\n      'geolocation=()',\n      'microphone=()',\n      'camera=()',\n      'payment=()',\n      'usb=()',\n      'interest-cohort=()'\n    ].join(', ')\n  );\n\n  return response;\n}\n\n// Apply middleware to all routes except static assets and API routes\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     */\n    {\n      source: '/((?!api|_next/static|_next/image|favicon.ico).*)',\n      missing: [\n        { type: 'header', key: 'next-router-prefetch' },\n        { type: 'header', key: 'purpose', value: 'prefetch' }\n      ]\n    }\n  ]\n};"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;;AACrC;AAAA;;AAEO,SAAS,WAAW,OAAoB;IAC7C,uCAAuC;IACvC,MAAM,WAAW,gMAAY,CAAC,IAAI;IAElC,4BAA4B;IAC5B,SAAS,OAAO,CAAC,GAAG,CAClB,6BACA;IAGF,kBAAkB;IAClB,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB;IAExC,yBAAyB;IACzB,SAAS,OAAO,CAAC,GAAG,CAAC,0BAA0B;IAE/C,kBAAkB;IAClB,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB;IAExC,0BAA0B;IAC1B,SAAS,OAAO,CAAC,GAAG,CAClB,2BACA;QACE;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD,CAAC,IAAI,CAAC;IAGT,qBAAqB;IACrB,SAAS,OAAO,CAAC,GAAG,CAClB,sBACA;QACE;QACA;QACA;QACA;QACA;QACA;KACD,CAAC,IAAI,CAAC;IAGT,OAAO;AACT;AAGO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;KAMC,GACD;YACE,QAAQ;YACR,SAAS;gBACP;oBAAE,MAAM;oBAAU,KAAK;gBAAuB;gBAC9C;oBAAE,MAAM;oBAAU,KAAK;oBAAW,OAAO;gBAAW;aACrD;QACH;KACD;AACH"}}]
}